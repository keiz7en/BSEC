<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" prefHeight="600.0" prefWidth="800.0"
      spacing="15.0" style="-fx-padding: 20;" fx:controller="com.bsec.oop.Fayshal.StockExchange.ManageStockDelisting">
    <children>
        <Label text="Manage Stock Delisting" style="-fx-font-size: 24px; -fx-font-weight: bold;"/>
        <Label text="Stock Delisting Requests:" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
        <TableView fx:id="delistingTable" prefHeight="300.0">
            <columns>
                <TableColumn fx:id="requestIdColumn" text="Request ID" prefWidth="100.0"/>
                <TableColumn fx:id="companyNameColumn" text="Company Name" prefWidth="150.0"/>
                <TableColumn fx:id="stockSymbolColumn" text="Symbol" prefWidth="80.0"/>
                <TableColumn fx:id="requestDateColumn" text="Request Date" prefWidth="120.0"/>
                <TableColumn fx:id="reasonColumn" text="Reason" prefWidth="180.0"/>
                <TableColumn fx:id="currentPriceColumn" text="Current Price" prefWidth="100.0"/>
                <TableColumn fx:id="marketCapColumn" text="Market Cap" prefWidth="120.0"/>
                <TableColumn fx:id="statusColumn" text="Status" prefWidth="100.0"/>
                <TableColumn fx:id="reviewerColumn" text="Reviewer" prefWidth="120.0"/>
                <TableColumn fx:id="deadlineColumn" text="Deadline" prefWidth="120.0"/>
            </columns>
        </TableView>
        <Separator/>
        <Label text="Request Details:" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
        <HBox spacing="10.0">
            <children>
                <Label text="Selected Company:" style="-fx-font-size: 14px;"/>
                <Label fx:id="selectedCompanyLabel" text="Select from table above"
                       style="-fx-font-size: 14px; -fx-text-fill: blue;"/>
            </children>
        </HBox>
        <Label text="Compliance Verification:" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
        <VBox spacing="10.0">
            <children>
                <CheckBox fx:id="financialObligationsCheck" text="All financial obligations settled"/>
                <CheckBox fx:id="shareholderNotificationCheck" text="Shareholders properly notified"/>
                <CheckBox fx:id="regulatoryComplianceCheck" text="Regulatory compliance maintained"/>
                <CheckBox fx:id="debtClearanceCheck" text="All debts cleared"/>
                <CheckBox fx:id="auditCompletedCheck" text="Final audit completed"/>
            </children>
        </VBox>
        <HBox spacing="20.0">
            <children>
                <VBox spacing="5.0">
                    <children>
                        <Label text="Delisting Type:" style="-fx-font-size: 12px;"/>
                        <ComboBox fx:id="delistingTypeCombo" prefWidth="150.0"/>
                    </children>
                </VBox>
                <VBox spacing="5.0">
                    <children>
                        <Label text="Effective Date:" style="-fx-font-size: 12px;"/>
                        <DatePicker fx:id="effectiveDatePicker" prefWidth="150.0"/>
                    </children>
                </VBox>
                <VBox spacing="5.0">
                    <children>
                        <Label text="Notice Period (Days):" style="-fx-font-size: 12px;"/>
                        <TextField fx:id="noticePeriodField" prefWidth="100.0" promptText="30"/>
                    </children>
                </VBox>
            </children>
        </HBox>
        <HBox spacing="10.0">
            <children>
                <Label text="Decision Reason:" style="-fx-font-size: 14px;"/>
                <TextArea fx:id="decisionReasonArea" prefHeight="60.0" prefWidth="400.0"
                          promptText="Enter reason for approval/rejection..."/>
            </children>
        </HBox>
        <HBox spacing="20.0" style="-fx-alignment: center;">
            <children>
                <Button text="Approve Delisting"
                        style="-fx-font-size: 14px; -fx-background-color: #4CAF50; -fx-text-fill: white;"/>
                <Button text="Reject Request"
                        style="-fx-font-size: 14px; -fx-background-color: #f44336; -fx-text-fill: white;"/>
                <Button text="Request Additional Info" style="-fx-font-size: 14px;"/>
            </children>
        </HBox>
        <Label text="Market Notification:" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
        <VBox spacing="10.0">
            <children>
                <CheckBox fx:id="investorsNotificationCheck" text="Notify all investors"/>
                <CheckBox fx:id="brokersNotificationCheck" text="Notify brokers and dealers"/>
                <CheckBox fx:id="mediaNotificationCheck" text="Issue press release"/>
                <CheckBox fx:id="websiteUpdateCheck" text="Update exchange website"/>
            </children>
        </VBox>
        <HBox spacing="20.0" style="-fx-alignment: center;">
            <children>
                <Button text="Send Notifications" style="-fx-font-size: 14px;"/>
                <Button text="Update Stock Status" style="-fx-font-size: 14px;"/>
                <Button text="Generate Report" style="-fx-font-size: 14px;"/>
            </children>
        </HBox>
        <TextArea fx:id="delistingStatusArea" prefHeight="60.0" editable="false"
                  promptText="Delisting process status and notifications..."/>
        <HBox style="-fx-alignment: center;">
            <children>
                <Button onAction="#goBackToDashboard" text="Back to Dashboard" style="-fx-font-size: 14px;"/>
            </children>
        </HBox>
    </children>
</VBox>