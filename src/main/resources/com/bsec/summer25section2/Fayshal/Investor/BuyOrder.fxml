<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane prefHeight="900.0" prefWidth="900.0" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.bsec.oop.Fayshal.Investor.BuyOrder">

    <children>
        <!-- Header -->
        <HBox alignment="CENTER_LEFT" layoutX="0.0" layoutY="0.0" prefHeight="60.0" prefWidth="900.0" spacing="20.0">
            <children>
                <Label text="Place Buy Order">
                    <font>
                        <Font name="System Bold" size="24.0" />
                    </font>
                </Label>
                <Region HBox.hgrow="ALWAYS" />
                <Button mnemonicParsing="false" onAction="#goBackToMenu" text="Back to Menu" />
            </children>
        </HBox>

        <!-- Main Content -->
        <ScrollPane fitToWidth="true" layoutX="0.0" layoutY="60.0" prefHeight="840.0" prefWidth="900.0">
            <content>
                <VBox prefHeight="814.0" prefWidth="896.0" spacing="20.0" style="-fx-padding: 20;">
                    <children>
                        <VBox prefHeight="790.0" prefWidth="858.0" spacing="20.0" style="-fx-padding: 20;">
                            <children>
                                <!-- Header -->
                                <Label style="-fx-font-size: 24px; -fx-font-weight: bold;" text="Place Buy Order" />

                                <!-- Stock Information -->
                                <HBox spacing="10.0">
                                    <children>
                                        <Label style="-fx-font-size: 14px;" text="Stock Symbol:" />
                                        <ComboBox fx:id="stockSymbolComboBox" prefWidth="200.0" promptText="Enter stock symbol" />
                                        <Button fx:id="refreshPriceButton" style="-fx-font-size: 14px;" text="Get Info" />
                                    </children>
                                </HBox>

                                <!-- Stock Details Display -->
                                <HBox spacing="10.0">
                                    <children>
                                        <Label style="-fx-font-size: 14px;" text="Current Price:" />
                                        <Label fx:id="currentPriceLabel" style="-fx-font-size: 14px; -fx-text-fill: blue;" text="0.00" />
                                        <Label style="-fx-font-size: 14px;" text="Company:" />
                                        <Label fx:id="companyNameLabel" style="-fx-font-size: 14px;" text="N/A" />
                                    </children>
                                </HBox>

                                <!-- Order Details -->
                                <HBox spacing="10.0">
                                    <children>
                                        <Label style="-fx-font-size: 14px;" text="Quantity:" />
                                        <TextField fx:id="quantityField" prefWidth="150.0" promptText="Number of shares" />
                                    </children>
                                </HBox>

                                <!-- Order Type -->
                                <HBox spacing="10.0">
                                    <children>
                                        <Label style="-fx-font-size: 14px;" text="Order Type:" />
                                        <ComboBox fx:id="orderTypeComboBox" prefWidth="200.0" />
                                    </children>
                                </HBox>

                                <!-- Limit Price (shown when Limit Order is selected) -->
                                <HBox spacing="10.0">
                                    <children>
                                        <Label style="-fx-font-size: 14px;" text="Limit Price:" />
                                        <TextField fx:id="priceLimitField" prefWidth="150.0" promptText="Enter limit price" />
                                    </children>
                                </HBox>

                                <!-- Order Summary -->
                                <Separator />
                                <Label style="-fx-font-size: 16px; -fx-font-weight: bold;" text="Order Summary" />

                                <HBox spacing="10.0">
                                    <children>
                                        <Label style="-fx-font-size: 14px;" text="Total Cost:" />
                                        <Label fx:id="orderValueLabel" style="-fx-font-size: 14px; -fx-text-fill: green;" text="0.00" />
                                    </children>
                                </HBox>

                                <HBox spacing="10.0">
                                    <children>
                                        <Label style="-fx-font-size: 14px;" text="Available Balance:" />
                                        <Label fx:id="availableBalanceLabel" style="-fx-font-size: 14px; -fx-text-fill: blue;" text="0.00" />
                                    </children>
                                </HBox>

                                <!-- Action Buttons -->
                                <HBox spacing="15.0" style="-fx-alignment: center;">
                                    <children>
                                        <Button fx:id="calculateButton" style="-fx-font-size: 14px;" text="Calculate Order Value" />
                                        <Button fx:id="confirmBuyOrderButton" style="-fx-font-size: 14px; -fx-background-color: #4CAF50; -fx-text-fill: white;" text="Confirm Buy Order" />
                                    </children>
                                </HBox>

                                <!-- Status -->
                                <Label fx:id="validationMessageLabel" style="-fx-font-size: 12px; -fx-text-fill: red;" text="" />

                                <!-- Stock Watchlist -->
                                <Label style="-fx-font-size: 16px; -fx-font-weight: bold;" text="Stock Watchlist:" />
                                <TableView fx:id="watchlistTable" prefHeight="200.0">
                                    <columns>
                                        <TableColumn fx:id="watchSymbolColumn" prefWidth="80.0" text="Symbol" />
                                        <TableColumn fx:id="watchNameColumn" prefWidth="150.0" text="Company Name" />
                                        <TableColumn fx:id="watchPriceColumn" prefWidth="100.0" text="Current Price" />
                                        <TableColumn fx:id="watchChangeColumn" prefWidth="80.0" text="Change" />
                                        <TableColumn fx:id="watchPercentColumn" prefWidth="90.0" text="Change %" />
                                        <TableColumn fx:id="watchVolumeColumn" prefWidth="100.0" text="Volume" />
                                        <TableColumn fx:id="watchHighColumn" prefWidth="80.0" text="Day High" />
                                        <TableColumn fx:id="watchLowColumn" prefWidth="80.0" text="Day Low" />
                                        <TableColumn fx:id="watchAlertColumn" prefWidth="80.0" text="Alert" />
                                        <TableColumn fx:id="watchActionsColumn" prefWidth="100.0" text="Actions" />
                                    </columns>
                                </TableView>

                                <!-- Back Button -->
                                <HBox style="-fx-alignment: center;" />
                                  <Button onAction="#goBackToMenu" style="-fx-font-size: 14px;" text="Back to Menu" />
                            </children>
                        </VBox>
                    </children>
                </VBox>
            </content>
        </ScrollPane>
    </children>
</AnchorPane>
